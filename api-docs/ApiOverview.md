# API Overvew

## 1.HTTP 协议
    1.1 HTTP接口调用说明
>使用HTTPS POST请求。
请求URI格式：https://固定URI+版本+角色名+cmd_功能号</br>
例如：https://www.iiecg.com:8443/aimb/api/v2/mangeclient/cmd_10001

    1.2 HTTP请求参数
>HTTP POST表单由签名sign、时间戳ts、鉴权头auth、请求参数params四个部分构成，如下： 

参数|类型|描述|长度|可否为空|备注
------------ | ------------- | ------------- | ------------ | ------------- | -------------
sign|	String	|请求签名|	|N|由通讯协议栈处理 1.连接ts值和params值的字符串作为参数，调用签名接口计算签名；2.登录成功后的请求才需要计算请求参数签名。
ts	|String	|时间戳|	|	N|由通讯协议栈处理单位：毫秒数
auth|json|鉴权头| |Y|所有登录成功之后的请求必须填充该参数。登录成功后系统返回，后续请求都需要带上auth进行权限验证。
/id|String|	通讯令牌ID标识|  |Y|	
/token|String|通讯令牌|		|Y|	
params|Json|请求参数|		|Y|	请求参数

## 2.功能号段定义

号段(5位编码) | 描述 | 备注
------------ | ------------- | -------------
1xxxx | 系统功能 | 如升级版本检测、获取校验码等
2xxxx | 字典功能 | 如获取系统字典表
3xxxx | 帐号权限相关功能 | 如帐号登录、修改密码、权限等
4xxxx | 系统配置功能 | 对相关配置参数增加、修改、删除、查询等
5xxxx | 接入相关功能 | 51xxx 设备接入 53xxx HIS接入
6xxxx | 统计功能 | 6xxxx统计功能
7xxxx | 业务功能 | 7xxxx-8xxxx业务功能

## 3.功能号参照表

功能号	     | 功能描述	     | 备注
------------ | ------------- | -------------
10001|心跳	|
20001|查询通用字典类型表 	|
20002|查询通用字典编码表 	|
20003|查询通用字典编码语言表 | 未实现
20004|查询设备厂商字典表 	|
20005|查询设备厂商型号字典表 	|
20006|查询风险评估类型字典表	|
20007|查询风险评估得分项字典表	|
20040|查询医疗机构树	|
30010|登录	|
30030|注销	|
30040|修改密码	|
30041|修改用户信息	|
30010|获取院科权限	|
31020|获取功能菜单	|
40010|添加医疗机构	|
40020|删除医疗机构	|
40030|查询医疗机构	|
40040|修改医疗机构	|
40050|查询医疗机构树	|
40610|添加角色	|
40620|删除角色	|
40630|查询角色	|
40640|修改角色	|
40710|添加账号	|
40720|删除账号	|
40730|查询账号	|
40740|修改账号	|
40810|查询用户医院权限关联	|
40820|添加用户医院权限关联	|
40830|删除用户医院权限关联	|
40910|查询用户角色组功能关联	|
40920|添加用户角色组功能关联	|
40930|删除用户角色组功能关联	|
41010|查询用户角色账号关联	|
41020|添加用户角色账号关联	|
41030|删除用户角色账号关联	|
41110|添加项目	|
41120|删除项目	|
41130|查询项目	|
41140|修改项目	|
41210|添加项目标题	|
41220|删除项目标题	|
41230|查询项目标题	|
41240|修改项目标题	|
41250|查询项目和标题级联树	|
41310|查询用户项目关联	|
41320|保存用户项目关联	|
41410|添加医院科室	|
41420|删除医院科室	|
41430|查询医院科室	|
41431|查询医院科室(根据ID查询)	|
41440|修改医院科室	|
41510|开通医生APP账号	|
41610|下载用户检测数据	|
41620|添加医生团队信息	|
41621|查询医生团队信息|如果不传入id则默认查全部，否则查单条。
41622|条件查询医生团队信息|按照团队名称查询
70021|获取心电数据详情	|
70022|获取单导心电数据采样点	|
70023|上传血压数据	|
70024|上传血糖数据	|
71000|获取筛查首页数据	|
71010|获取患者列表	|
71011|患者建档	|
71012|更新患者档案	|
71013|删除患者档案	|
71014|获取患者档案详情	|
71015|更新患者最新数据	|
71020|获取心电数据列表	|
71021|获取血压数据列表	|
71022|获取血糖数据列表	|
71023|获取胆固醇数据列表	|
71024|获取尿酸数据列表	|
71050|获取医患消息列表	|
71051|发送医患消息	|
71810|获取筛查设备列表	|
71811|添加筛查设备	|
71812|删除筛查设备	|
71813|修改筛查设备	|
74001|获取房颤建档患者列表	|
74002|获取疑似房颤患者列表	|
74003|获取确诊房颤患者列表	|
74004|条件统计查询房颤患者	|
74005|条件查询结果存为可下载的Excel文件	|
74011|添加患者房颤筛查信息	|
74012|修改患者房颤筛查信息	|
74013|获取房颤筛查患者列表	|
74015|疑似房颤患者确诊信息	|
74020|添加房颤患者VASc信息	|
74021|修改房颤患者VASc信息	|
74022|获取房颤患者VASc列表	|
74030|添加房颤患者Bled信息	|
74031|修改房颤患者Bled信息	|
74032|获取房颤患者Bled列表	|
74040|添加房颤患者诊疗信息	|
74041|修改房颤患者诊疗信息	|
74042|获取房颤患者诊疗列表	|
74050|添加房颤患者随访信息	|
74051|修改房颤患者随访信息	|
74052|获取房颤患者随访列表	|



